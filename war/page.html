<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>CodeWars8086</title>
    <script type="text/javascript" language="javascript" src="codewars_js/codewars_js.nocache.js"></script>
    <script type="text/javascript" language="javascript" src="asm_js_main.js"></script>
<script>

var run_nasm = null

function start()
{
    run_nasm = Module.cwrap('run_nasm', null, ['string', 'string'])
    Module['print'] = printConsole
    Module['printErr'] = printConsole

    asm_edit.addEventListener("keydown", fixhscroll)
    asm_edit.addEventListener("keydown", fixTabKey) // want to capture the press since we want to prevent the default action
    asm_edit.addEventListener("keyup", fixhscroll)
    asm_edit.addEventListener("keyup", fixIndent)  // indent is on key up since we want it after the \n

}

// called when GWT finshed loading
function gwtStart()
{
   // start with two players
    addPlayersPanel()
    addPlayersPanel()

    sel_code_w1_pA.checked = true
    triggerSrc('A', 1)

    j_demoDebugPlayers();
}


function addTextChild(elem, txt) {
    var dummy = document.createElement("DIV")
    dummy.innerHTML = txt
    elem.appendChild(dummy.firstChild)
}

var g_nextLetter = 'A'
var g_usedLetters = []
var g_srcButtons = []  // ids of elements that are checkboxes that select a source file to be displayer

function asciiAdd(letter, val) {
    return String.fromCharCode(letter.charCodeAt(0) + val)
}

function arrayRemove(arr, value) {
    var index = arr.indexOf(value);
    if (index > -1) {
        arr.splice(index, 1);
    }
}


function addPlayersPanel() {
    if (g_usedLetters.length >= 20)
        return; // max players

    var text = '<div id="pl_frame_pLETTER" class="toppic">\
          <div class="famtitle">\
            <input class="fam_check_box hidden mycheck" id="player_check_pLETTER" type="checkbox" checked onchange="" >\
            <label class="fam_check mycheck_label" for="player_check_pLETTER"></label>\
            <label id="player_name_lbl_pLETTER" class="fam_label">Player LETTER</label>\
            <label id="player_erase_pLETTER" class="pl_close_icon" onclick="triggerErasePlayer(this, pl_frame_pLETTER, \'LETTER\')"></label>\
            <br>\
            <select id="wtype_pLETTER" class="sel_wtype" onchange="changedWType(\'LETTER\')">\
              <option value="SINGLE" class="opt_single">Single Warrior</option>\
              <option value="TWO_IDENTICAL">Two Identical Warriors</option>\
              <option value="TWO_DIFFERENT">Two Different Warriors</option>\
            </select>\
            <input id="sel_code_w1_pLETTER" class="hidden sc-check" onchange="triggerSrc(\'LETTER\', 1)" type="checkbox">\
            <label id="sel_code_lbl_w1_pLETTER" class="sc-btn src_sel_but" for="sel_code_w1_pLETTER" >Player_LETTER</label>\
            <br>\
            <input id="sel_code_w2_pLETTER" class="hidden sc-check" onchange="triggerSrc(\'LETTER\', 2)" type="checkbox">\
            <label id="sel_code_lbl_w2_pLETTER" class="sc-btn src_sel_but" for="sel_code_w2_pLETTER">Player_LETTER2</label>\
          </div>\
        </div>'

    addTextChild(players_contaier, text.replace(/LETTER/g, g_nextLetter))

    var letter = g_nextLetter
    g_srcButtons.push('sel_code_w1_p' + letter)
    g_srcButtons.push('sel_code_w2_p' + letter)

    j_addPlayer(letter, "Player " + letter)
    changedWType(letter)

    g_usedLetters.push(letter)
    g_nextLetter = asciiAdd(g_nextLetter, 1)


}

function changedWType(letter)
{
    var v = document.getElementById('wtype_p' + letter).value
    var elem1 = document.getElementById('sel_code_lbl_w1_p' + letter)
    var elem2 = document.getElementById('sel_code_lbl_w2_p' + letter)
    var frame = document.getElementById('pl_frame_p' + letter)

    if (v == 'SINGLE' || v == 'TWO_IDENTICAL') {
        elem2.style.visibility = 'hidden'
        elem2.style.opacity = 0.0
        elem1.style.marginTop = '7px'
        frame.style.height = '110px'
    }
    else if (v == 'TWO_DIFFERENT') {
        elem2.style.visibility = 'visible'
        elem2.style.opacity = 1
        elem1.style.marginTop = ''
        frame.style.height = ''
    }

    j_changedWType(letter, v);

}


function triggerSrc(letter, index)
{
    var except_id = 'sel_code_w' + index + '_p' + letter
    for(var ni in g_srcButtons) {
        var name = g_srcButtons[ni]
        if (name == except_id)
            continue
        document.getElementById(name).checked = false
    }

    j_srcSelectionChanged(letter, index)
}

function triggerErasePlayer(buttonElem, elem, letter)
{
    if (buttonElem.getAttribute("disabled") == "true")
        return;
    //elem.parentNode.removeChild(elem);
    elem.addEventListener('animationend', function() {
        elem.parentNode.removeChild(elem);
    })
    elem.classList.add('removed_anim')

    arrayRemove(g_usedLetters, letter);
    arrayRemove(g_srcButtons, 'sel_code_w1_p' + letter)
    arrayRemove(g_srcButtons, 'sel_code_w2_p' + letter)

    j_removePlayer(letter)

    if (g_usedLetters.length == 0) {
        g_nextLetter = 'A'
    }
    else
    {
        // figure out what would be the next letter
        var check = 'Z' // check from Z backwards
        while(true) {
            if (g_usedLetters.indexOf(check) > -1)
                break;
            check = asciiAdd(check, -1)
        }
        if (check != 'Z')
            g_nextLetter = asciiAdd(check, 1)
        else {  // all letters are used up, check for holes
            check = 'A'
            while(check != 'Z') {
                if (g_usedLetters.indexOf(check) == -1)
                    break;
                check = asciiAdd(check, 1)
            }
            g_nextLetter = check // upper limit on number of players should avoid this causing a problem
        }
    }
}


// Java code comes to get and clear this variable to get the stdout of the nasm run
var g_outputText = null
function printConsole(line) {
    //console.log("*** " + line)
    g_outputText += line + '\n'
}


// in case there is a long line, when returning to a new line, the text will be still scrolled to the left, fix that
function fixhscroll(e) {
    if (e.target != asm_edit)
        return;

    if (asm_edit.selectionStart == 0 || asm_edit.selectionStart == 1)
    {
        console.log("fixing scroll")
        asm_edit.scrollLeft = 0
        asm_edit.scrollTop = 0
    }
    else if (asm_edit.value[asm_edit.selectionStart-1] == '\n' || asm_edit.value[asm_edit.selectionStart-2] == '\n')
    {
        asm_edit.scrollLeft = 0
    }



}



// called when a warning or error line in the editor is double clicked
function asm_cursorToLine(charOffset) {
    asm_edit.selectionStart = charOffset
    asm_edit.selectionEnd = charOffset
    asm_edit.focus()

}


function handleScroll() {
    roundedScroll = Math.floor(asm_edit.scrollTop);

    // Fixes issue of desync text on mouse wheel, fuck Firefox.
    if(navigator.userAgent.toLowerCase().indexOf('firefox') < 0) {
        asm_edit.scrollTop = roundedScroll;
    }

    asm_pre.style.top = "-" + roundedScroll + "px"

    asm_show.style.left = "-" + asm_edit.scrollLeft + "px"
}

function fixTabKey(e) {
    if (e.keyCode === 9){
        var selStartPos = asm_edit.selectionStart
        var inputVal = asm_edit.value;
        e.preventDefault();

        asm_edit.value = inputVal.substring(0, selStartPos) + "    " + inputVal.substring(selStartPos, inputVal.length);
        asm_edit.selectionStart = selStartPos + 4;
        asm_edit.selectionEnd = selStartPos + 4;
        asm_edit.dispatchEvent(new Event("input")) // trigger the java parsing
    }
}

function fixIndent(e) {
    if (e.keyCode === 13)
    { // line indentation
        var selStartPos = asm_edit.selectionStart
        var inputVal = asm_edit.value;
        var pos = selStartPos - 2 // skip the last added \n
        var seenSpaces = 0;
        while (pos >= 0) {
            if (inputVal[pos] == ' ')
                ++seenSpaces;
            else if (inputVal[pos] == '\n')
                break;
            else
                seenSpaces = 0;
            --pos;
        }
        if (seenSpaces > 0) {
            asm_edit.value = inputVal.substring(0, selStartPos) + " ".repeat(seenSpaces) + inputVal.substring(selStartPos, inputVal.length);
            asm_edit.selectionStart = selStartPos + seenSpaces;
            asm_edit.selectionEnd = selStartPos + seenSpaces;

        }
    }
}

function triggerDebug() {
    if (debugCheckbox.checked) {
        if (!j_startDebug()) {
            console.error("cannot start debug")
            debugCheckbox.checked = false;
            return
        }

        debugBtnIn.style.backgroundImage = "url(red_stop.png)"
        debugBtnIn2.innerText = "Stop"

        for(var ui in g_usedLetters) {
            var u = g_usedLetters[ui]
            document.getElementById("player_erase_p" + u).setAttribute("disabled", true)
            document.getElementById("player_check_p" + u).setAttribute("disabled", true)
            document.getElementById("wtype_p" + u).setAttribute("disabled", true)

        }
    }
    else {
        j_stopDebug()

        debugBtnIn.style.backgroundImage = "url(green_play.png)"
        debugBtnIn2.innerText = "Debug"

        for(var ui in g_usedLetters) {
            var u = g_usedLetters[ui]
            document.getElementById("player_erase_p" + u).removeAttribute("disabled")
            document.getElementById("player_check_p" + u).removeAttribute("disabled")
            document.getElementById("wtype_p" + u).removeAttribute("disabled")
        }

    }
}

function triggerRegBase(ishex) {
    if (ishex) {
        hexCheckbox.checked = true;
        decCheckbox.checked = false;
    }
    else {
        hexCheckbox.checked = false;
        decCheckbox.checked = true;
    }
    j_setRegistersBase(ishex ? 16:10)
}

</script>    
<style>
body {
    margin: 0;
    -moz-user-select: -moz-none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
     user-select: none;
    background: #ffffff;
    font-family: Verdana;
}

.sc-btn {
  display: inline-block;
  /*position: absolute;*/

  /*font-family: "Helvetica Neue", "Helvetica", sans-serif;*/

  border-radius: 0.4em;

  box-shadow: inset rgba(0, 0, 0, 0.1) 0px -0.15em 0px, inset rgba(255, 255, 255, 0.2) 0px 0.15em 0px, rgba(0, 0, 0, 0.3) 0px 0.1em 0.3em;
  text-align: center;
  cursor: pointer;
  overflow: hidden; 
  
  color: #222;
  text-shadow: rgba(127, 127, 127, 0.4) 0 1px 0;
  background-color: #ebebeb;
  background-image: linear-gradient(to bottom, white, #ebebeb);   
  
  width: 100px;
  height: 40px;
  line-height: 40px;
  margin: 7px;
  outline:none;  /* no focus outline */
  font-size:110%;
}

.sc-btn:hover {
  color: #222;
  background-image: linear-gradient(to bottom, white, #d2d2d2);
  background-color: #fdfdfd;   
}

.sc-btn:active, .sc-check:checked+.sc-btn {
    box-shadow: rgba(255, 255, 255, 0.2) 0 0.1em 0, inset rgba(0, 0, 0, 0.3) 0px 0.25em 1em; 
    color: #fff;
    background-color: #dfdfdf;
    background-image: linear-gradient(to bottom, #479ceb, #1067c1); 
}
.sc-btn:checked  {

  background-color: #dfdfdf;
  background-image: linear-gradient(to bottom, #479ceb, #1067c1); 
}
.sc-btn:disabled {
   color: #ddd;
}

.sc-btn[disabled="true"] {
    box-shadow: initial;
}
.sc-btn[disabled="true"] > .sc-span { /* comes after */
    opacity: 0.3; /* for buttons with image*/
}

input[type="range"]:disabled {
    opacity: 0.4;
}

input:disabled + .sc-btn,
input:disabled + .sc-btn:hover,
input:disabled + .sc-btn:active, 
.sc-btn[disabled="true"] {
  color:#ddd;
  background-image: linear-gradient(to bottom, white, #ebebeb);
  box-shadow: initial;
}
.sc-btn:disabled + span {
  opacity:0.6
}

/* ---------------- asm ---------------------- */

.codearea {
    font-size: 16px;
    font-family: courier;
    outline: none; /* don't show focus border */
    overflow: auto;
    /*border: 1px solid #000000;*/
    /*border-radius: 4px;*/
    display: inline-block;
    padding: 9px 8px;
    white-space: pre;  /* needed for multiple spaces */
    box-sizing: border-box; /* size includes margins and border */
}
.codearea:disabled {
    background-color: rgb(255,255,255);
    color: rgb(0, 0, 0);
}

.allow_select {
    -moz-user-select: text; /* user can select here, override body */
    -khtml-user-select: text;
    -webkit-user-select: text;
    -ms-user-select: text;
     user-select: text;
}

#opcodes_edit {
    position: absolute;
    left: 0;

    width:200px;
    overflow: hidden; /* remove scroll bar */
    background: white;
}
#asm_linenums {
    position: absolute;
    left: 200px;

    width: 40px;
    border: none;
    padding: 9px 3px 9px 9px;
    text-align: right;
    color: #888888;
    overflow: hidden;
    border-radius: 0;

    background: #eeeeee;
    border-right: 1px solid #cccccc;

    margin: 0 0 1px 0; /* without this the editor is off by 1 pixel in chrome. no idea */
}
#edit_area {
    display: inline-block;
    position:relative;

    width:600px;
    height: 518px;
    vertical-align: top; /* othewise the scroll bar hides the border */
    overflow: hidden;
}
#asm_edit {
    position: absolute;
    top: 0;
    left: 240px;
    height: 100%;
    width: calc(100% - 240px);
    overflow-x: auto;
    border:none;
    background: transparent;
    outline: none;
    resize: none;
    margin: 0;
    box-sizing: border-box;
    /*opacity: 0.2;*/
    color: transparent;
    caret-color: black;
}
#asm_pre {
    pointer-events: none;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow-x: hidden;
    border:none;
    margin: 0;
    box-sizing: border-box;
    padding: 0;

}
#asm_show {
    position: absolute;
    display: inline-block;
    box-sizing: border-box;
    font-family: courier;
    vertical-align: top;
    border: none;
}

#asm_show_rel {
    position: relative;
    left: 240px;

    display: inline-block;
    /*width: calc(600px - 240px);*/
    /*height: 500px;*/
    vertical-align: top;
   /* overflow: hidden;*/
}

#asm_edit_and_lines {
    border: 1px solid #000000;
    border-radius: 4px;
    display: inline-block;
    height: 518px; /* 500 + padding of 9 */
}


#box_opcodes {
    position: absolute;
    top: 0;
    left: 0;
    width: 192px;
    height: 100%;
    border: 1px solid #000;
    border-radius: 6px;
    pointer-events: none;
    box-sizing: border-box;
}
#box_edit {
    position: absolute;
    top: 0;
    left: 200px;
    width: 400px;
    height: 100%;
    border: 1px solid #000;
    border-radius: 6px;
    pointer-events: none;
    box-sizing: border-box;
}
#box_numbers {
    position: absolute;
    top: 0;
    left: 200px;
    width: 39px;
    height: 100%;
    background: #eeeeee;
    border-right: 1px solid #cccccc;

}



.edit_error {
    background-color: #ffd7d7;
}
.edit_warning {
    background-color: #fff8ab;
}
#asm_output { 
    width:600px;
    height:100px;
    white-space: normal;
    padding: 9px 0 9px 0;
    border: 1px solid #000000;
    border-radius: 4px;
}

.edit_text_error {
    background-color: rgb(255,140,140);
}

.stdout_line_w:nth-child(even) {
    background: #ffeb8b;
}
.stdout_line_w:nth-child(odd) {
    background: #ffffaf;
}

.stdout_line_e:nth-child(even) {
    background: #ffcece;
}
.stdout_line_e:nth-child(odd) {
    background: #ffbcb4;
}


.stdout_line_e, .stdout_line_w {
    padding: 0 0 0 8px;
}

/*--------------- side panel -----------------*/

#players_panel {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    background: #d3ffd3;
    width: 190px;
    border-right: 1px solid #008800;
    overflow: auto;
}

#action_panel {
  position: absolute;
  left: 200px;
  top: 0;
  bottom: 0;
  right: 0;
  overflow: auto;
}
#action_rel {
  position: relative;
}

#edit_panel {
  position: absolute;
  left: 0;
  top: 0;
  width: 630px;
  margin: 8px;
}
#memory_panel {
  position: absolute;
  left: 630px;
  top: 0;

}

#players_rel {
    position: relative;
    width: 100%;
    top: 50px;
    /*bottom: 20px;*/
}

.hidden {
    position: absolute;
    z-index: -2;
    opacity: 0;
}

@keyframes fadeIn {
    from {opacity:0;}
    to {opacity:1;}
}
@keyframes fadeOut {
    from { opacity:1;  }
    to {opacity:0; }
}



.toppic {
    margin: 10px 11px 5px 10px;
    background: #71e671;
    font-family: Verdana;
    padding: 4px;
    border-radius: 5px;
    height: 145px;
    transition: height 0.1s ease-in-out;
    animation: fadeIn 200ms;
}
.removed_anim {
    animation: fadeOut 100ms;
}

.famtitle {
    height: 26px;
    line-height: 26px;
}

.mycheck + .mycheck_label {
    background: url(check_none.png) no-repeat;
    display: inline-block;
}
.mycheck:checked + .mycheck_label {
    background-image: url(check_checked.png);
}
.mycheck:indeterminate + .mycheck_label {
    background-image: url(check_int.png);
}
.mycheck[disabled="true"] + .mycheck_label {
    filter: brightness(90%);
}

.fam_check {
    width: 17px;
    height: 17px;
    margin: -4px 4px 0 2px;
    vertical-align: middle;
}
.fam_label {
    display: inline-block;
    width: calc(100% - 60px);
    max-width: calc(100% - 60px);
    overflow: hidden;
    vertical-align: bottom; /* needed becaue overflow hidden changed the baseline https://stackoverflow.com/questions/22421782/css-overflow-hidden-increases-height-of-container */
}
.sel_wtype {
    border-radius: 6px;
    font-size: 14px;
    height: 25px;
    margin: 0 0 7px 3px;
    width: calc(100% - 7px);
}
.opt_single {
    background: url(check_none.png) no-repeat;
}
.src_sel_but {
    height: 30px;
    line-height: 30px;
    font-size: 16px;
    margin: 3px 0 0 15px;
    width: calc(100% - 20px);
    transition: all 0.1s ease-in-out;
}

#addPlayerBtn {
    width: 34px;
    height: 34px;
    margin: 4px 7px 7px 11px;;
}
#addPlayerBtnIn {
    background: url(plus.png) center no-repeat;
    display: inline-block;
    width: 34px;
    height: 33px;
}
.pl_close_icon {
    width: 15px;
    height: 15px;
    background-image: url('red_ex.png');
    background-position: center;
    background-repeat: no-repeat;
    float: right;
    /*border: #aa0000 solid 1px;*/
    border-radius: 6px;
    padding: 4px;
}
.pl_close_icon:hover {
    background-color: rgba(255,255,255,0.7);
}
.pl_close_icon[disabled="true"] {
    background-image: url('gray_ex.png');
    background-color: transparent;
}

#editor_title {
    height: 30px;
    width: 300px;
    margin: 6px 0 20px 0;
    font-size: 20px;
    border-radius: 5px;
    padding: 0 0 0 10px;
    border: 1px solid #000000;
}
#editor_boxes {
}


#debugBtn {
    width: 120px;
    text-align:left;
}
#debugBtnIn {
    display: inline-block;
    width: 30px;
    height: 30px;
    vertical-align: -8px;
    margin: 0 0px 0 9px;
}
#debugBtnIn2 {
    margin: 0 0 0 3px;
}

/* --------------------- cpuPanel --------------------- */

#cpuPanel {
    position: absolute;
    left: 0;
    top: 630px;
}
.reg_name {
    display: inline-block;
    text-align: right;
    width: 37px;
    font-family: courier;
    font-weight: bold;
}
.reg_long_name {
    width: 75px;
}
.reg_input {
    width: 60px;
    font-family: courier;
    font-weight: bold;
    border-radius: 4px;
    border: 2px solid #aaaaaa;
    height: 17px;
    margin: 2px 0 0 3px;
    padding: 1px 0 1px 3px;
    font-size: 16px;
}
#reg_flags_table {
    border: 1px solid #000000;
    /*border-collapse: collapse;*/
    margin: 5px;
    border-radius: 5px;
}
.flag_check {
    width: 17px;
    height: 17px;
}

#reg_flags_table td {
    border-left: 1px solid #000;
    width: 25px;
    text-align: center;
}
#reg_flags_table td:first-child {
    border-left: none;
}
#reg_flags_table .bytesep {
    border-left: 2px solid #000000;
}
.flag_unsed {
    background-color: #cccccc;
}
table tr:first-child td:first-child {
    border-top-left-radius: 5px;
}
table tr:last-child td:first-child {
    border-bottom-left-radius: 5px;
}

#hex_dec {
    float: right;
    width: 70px;
    height: 90px;
}
#hexBtn, #decBtn {
    width: 45px;
    height: 35px;
    line-height: 35px;
    margin: 0 0 5px 20px;
    border: 1px solid #cccccc;
}

.base-btn:active, .sc-check:checked+.base-btn {
    background-image: linear-gradient(to bottom, #479ceb, #1067c1);
    /*color: #000;*/
}

.title-buttons {
    vertical-align: -32px;
    border: 1px solid;
    width: 77px;
    height: 33px;
    line-height: 30px;
    margin: 6px 0 20px 0;
}
#btnPause {

}
#btnSingleRound {
}

#messagesArea {
    border: 1px solid #000000;
    height: 140px;
    display: inline-block;
    width: 600px;
    border-radius: 4px;
}

</style>
  </head>
  <body onload="start()">

    <div id="action_panel"><div id="action_rel">
      <div id="memory_panel">
        <label id="runWarButton" class="sc-btn" >Run!</label>
        <input id="battlesPerGroupField" type="text">

        <input id="seed" type="text">
        Step:<span id="stepnum">0</span>
        <br>
        <input id="showBattleCheckBox" type="checkbox"><label for="showBattleCheckBox">Show session on start</label>
        <input id="startPausedCheckBox" type="checkbox"><label for="startPausedCheckBox">Start Paused</label>
        <br>
        <!-- WarFrame -->
        <canvas id="warCanvas"></canvas>
        Round: <div id="roundNumber"></div>

        Speed: <input type="range" min="1" max="100" value="50" class="slider" id="speedSlider">
      </div>

      <div id="edit_panel">
        <input type="text" id="editor_title" spellcheck="false">
          <label id="btnPause" class="sc-btn title-buttons">Pause</label>
          <label id="btnSingleRound" class="sc-btn title-buttons">Step</label>
          <br>
        <div id="editor_boxes">
          <div id="edit_area">
              <div id="box_numbers"></div>
              <pre id="asm_pre" class="codearea"><div id="asm_show_rel"><code id="asm_show" class="codearea"></code></div><code id="opcodes_edit" class="codearea allow_select" wrap="off"></code><code id="asm_linenums" class="codearea" wrap="off">1</code></pre>
              <textarea id="asm_edit" class="codearea allow_select" wrap="off"
                   spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"
                   onscroll="handleScroll()"></textarea>
              <div id="box_opcodes"></div>
              <div id="box_edit"></div>
          </div>
        </div>
        <br>
        <div id="asm_output" class="codearea allow_select" wrap="off" > </div>
      </div>

      <div id="cpuPanel" style="display:none;">
        <div id="registers_block">
          <div id="hex_dec">
            <input id="hexCheckbox" class="sc-check hidden" onchange="triggerRegBase(true)" type="checkbox" checked="true">
              <label id="hexBtn" class="sc-btn base-btn" for="hexCheckbox">Hex</label><br>
            <input id="decCheckbox" class="sc-check hidden" onchange="triggerRegBase(false)" type="checkbox">
              <label id="decBtn" class="sc-btn base-btn" for="decCheckbox">Dec</label>
          </div>
          <span class="reg_name">AX:</span><input type="text" id="reg_AX" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">BX:</span><input type="text" id="reg_BX" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">CX:</span><input type="text" id="reg_CX" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">DX:</span><input type="text" id="reg_DX" class="reg_input" maxlength="5" spellcheck="false"><br>
          <span class="reg_name">SI:</span><input type="text" id="reg_SI" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">DI:</span><input type="text" id="reg_DI" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">BP:</span><input type="text" id="reg_BP" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">SP:</span><input type="text" id="reg_SP" class="reg_input" maxlength="5" spellcheck="false"><br>
          <span class="reg_name">CS:</span><input type="text" id="reg_CS" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">DS:</span><input type="text" id="reg_DS" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">SS:</span><input type="text" id="reg_SS" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name">ES:</span><input type="text" id="reg_ES" class="reg_input" maxlength="5" spellcheck="false"><br>
          <span class="reg_name">IP:</span><input type="text" id="reg_IP" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name reg_long_name">Energy:</span><input type="text" id="reg_Energy" class="reg_input" maxlength="5" spellcheck="false">
          <span class="reg_name reg_long_name">Flags:</span><input type="text" id="reg_Flags" class="reg_input" maxlength="5" spellcheck="false"><br>
          <table id="reg_flags_table" cellspacing="0">
              <tr><td class="flag_unsed" title="Reserved"></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td title="Overflow Flag">OF</td><td title="Direction Flag">DF</td><td title="Interrupt Enable Flag">IF</td>
                  <td title="Trap Flag">TF</td><td class="bytesep" title="Sign Flag">SF</td><td title="Zero Flag">ZF</td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td title="Adjust Flag">AF</td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td title="Parity Flag">PF</td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td title="Carry Flag">CF</td></tr>
              <tr>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="OF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="OF_fcheck" title="Overflow Flag"></label></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="DF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="DF_fcheck" title="Direction Flag"></label></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="IF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="IF_fcheck" title="Interrupt Enable Flag"></label></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="TF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="TF_fcheck" title="Trap Flag"></label></td>
                  <td class="bytesep">
                      <input class="flag_check_box hidden mycheck" id="SF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="SF_fcheck" title="Sign Flag"></label></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="ZF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="ZF_fcheck" title="Zero Flag"></label></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="AF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="AF_fcheck" title="Adjust Flag"></label></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="PF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="PF_fcheck" title="Parity Flag"></label></td>
                  <td class="flag_unsed" title="Reserved"></td>
                  <td>
                      <input class="flag_check_box hidden mycheck" id="CF_fcheck" type="checkbox">
                      <label class="flag_check mycheck_label" for="CF_fcheck" title="Carry Flag"></label></td>
              </tr>
          </table><br>
          <div id="messagesArea" class="codearea allow_select" wrap="off" > </div>
        </div>
      </div>

    </div></div>
    <div id="players_panel">
      <div id="players_rel">
        <input id="debugCheckbox" class="hidden" onchange="triggerDebug()" type="checkbox">
        <label id="debugBtn" class="sc-btn" for="debugCheckbox">
          <span id="debugBtnIn" class="sc-span" style="visibility: visible; background-image: url(&quot;green_play.png&quot;);"></span>
          <span id="debugBtnIn2">Debug</span>
        </label>
        <div id="players_contaier">

        </div>
        <label id="addPlayerBtn" class="sc-btn" onclick="addPlayersPanel()"><span id="addPlayerBtnIn"></span></label>
      </div>
    </div>

  </body>
</html>